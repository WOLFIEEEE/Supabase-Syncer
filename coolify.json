{
    "name": "supabase-syncer-backend",
    "description": "Backend API server for Supabase Syncer - handles sync jobs, database operations",
    "type": "docker-compose",
    "dockerCompose": "./docker-compose.yaml",
    "services": {
        "backend": {
            "name": "Supabase Syncer Backend",
            "ports": {
                "3001": "3001"
            },
            "healthcheck": {
                "path": "/health/live",
                "interval": 30,
                "timeout": 10,
                "retries": 5,
                "startPeriod": 40
            },
            "environment": {
                "NODE_ENV": "production",
                "PORT": "3001",
                "LOG_LEVEL": "info",
                "REDIS_URL": "redis://redis:6379"
            },
            "resources": {
                "memory": "1G",
                "cpu": "1"
            }
        },
        "redis": {
            "name": "Redis Cache",
            "internal": true,
            "resources": {
                "memory": "512M"
            }
        }
    },
    "volumes": [{
        "name": "redis_data",
        "mount": "/data"
    }],
    "networks": [{
        "name": "app_network",
        "driver": "bridge"
    }],
    "requiredEnvVars": [
        "BACKEND_SHARED_SECRET",
        "ENCRYPTION_KEY"
    ],
    "optionalEnvVars": [
        "NEXT_PUBLIC_SUPABASE_URL",
        "NEXT_PUBLIC_SUPABASE_ANON_KEY",
        "DATABASE_URL",
        "ADMIN_EMAIL",
        "FRONTEND_URL",
        "ALLOWED_ORIGINS"
    ]
}
