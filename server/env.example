# ============================================
# Supabase Syncer Backend - Environment Variables
# Copy this file to .env and fill in your values
# ============================================

# Server Configuration
PORT=3001
HOST=0.0.0.0
NODE_ENV=development
LOG_LEVEL=debug

# Security
# Generate with: openssl rand -hex 32
BACKEND_SHARED_SECRET=your_64_character_shared_secret_here

# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key

# Service Role Key - REQUIRED for keep-alive and background operations
# This key bypasses RLS policies and allows the backend to access all data
# Get it from: Supabase Dashboard → Settings → API → service_role key
# WARNING: Keep this secret! Never expose it in client-side code.
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# Database Configuration
# Optional: PostgreSQL URL for persistent storage
# If not set, uses Supabase directly
DATABASE_URL=postgresql://user:password@host:5432/database

# Encryption Key for database URLs
# Generate with: openssl rand -hex 16
ENCRYPTION_KEY=your_32_character_encryption_key

# Redis Configuration
REDIS_URL=redis://localhost:6379

# Rate Limiting (requests per minute)
RATE_LIMIT_SYNC=10
RATE_LIMIT_SCHEMA=30
RATE_LIMIT_EXECUTE=20
RATE_LIMIT_READ=100
RATE_LIMIT_ADMIN=50

# Timeouts (milliseconds)
REQUEST_TIMEOUT=300000
SYNC_TIMEOUT=600000

# CORS - comma-separated list of allowed origins
# Leave empty to allow all origins in development
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

